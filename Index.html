
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Blogflixtv</title>
<style>
  * { box-sizing: border-box; margin:0; padding:0; }
  body, html { height:100%; font-family: sans-serif; background:#111; color:#fff; }
  #splash { position:fixed; inset:0; display:flex; justify-content:center; align-items:center; flex-direction:column; background:#000; z-index:1000; }
  #splash img { width:200px; margin-bottom:1rem; }
  #splash button { padding:0.5rem 1rem; background:#ffbb00; border:none; color:#111; font-weight:bold; border-radius:4px; cursor:pointer; }
  #loginModal { position:fixed; inset:0; background:rgba(0,0,0,0.8); display:flex; justify-content:center; align-items:center; flex-direction:column; }
  #loginModal input, #loginModal button { margin:0.5rem; padding:0.5rem; border-radius:4px; border: none; }
  #loginModal button { background:#ffbb00; font-weight:bold; color:#111; cursor:pointer; }
  header { padding:1rem; background:#000; text-align:center; font-size:1.5rem; color:#ffbb00; }
  nav { display:flex; justify-content:center; gap:1rem; padding:0.5rem; background:#222; }
  nav a { color:#fff; text-decoration:none; font-weight:bold; }
  nav a.active, nav a:hover { color:#111; background:#ffbb00; padding:0.5rem; border-radius:4px; }
  .container { padding:1rem; display:flex; flex-wrap:wrap; gap:1rem; justify-content:center; }
  .card { background:#222; border-radius:8px; width:280px; padding:1rem; box-shadow:0 0 10px #000; }
  .card h3 { margin-bottom:0.5rem; font-size:1.1rem; }
  iframe, video { width:100%; height:160px; border-radius:6px; margin-bottom:0.5rem; }
  footer { text-align:center; padding:1rem; background:#000; color:#aaa; margin-top:1rem; }
</style>
</head>
<body>

<div id="splash">
  <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://SEU_SITE.github.io" alt="QR Code"/>
  <button onclick="closeSplash()">Entrar</button>
</div>

<div id="loginModal" style="display:none;">
  <h2>Login</h2>
  <input id="user" type="text" placeholder="UsuÃ¡rio"/>
  <input id="pass" type="password" placeholder="Senha"/>
  <button onclick="login()">Login</button>
</div>

<header id="mainHeader" style="display:none;">Blogflixtv</header>

<nav id="mainNav" style="display:none;">
  <a href="#" data-cat="filmes" class="active" onclick="switchCat('filmes')">ðŸŽ¬ Filmes</a>
  <a href="#" data-cat="series" onclick="switchCat('series')">ðŸ“º SÃ©ries</a>
  <a href="#" data-cat="tv" onclick="switchCat('tv')">ðŸ“¡ TV</a>
</nav>

<div class="container" id="canalContainer"></div>
<footer>Blogflixtv â€¢ Canais dinÃ¢micos via lista Dropbox</footer>

<script>
  const listas = {
    filmes: "https://www.dropbox.com/scl/fi/2qrnsck786xi5i7wvhmie/minha-lista.txt?dl=1"
  };
  let canaisByCat = { filmes: [] };

  function closeSplash(){
    document.getElementById('splash').style.display = 'none';
    document.getElementById('loginModal').style.display = 'flex';
  }

  function login(){
    const u = document.getElementById('user').value;
    const p = document.getElementById('pass').value;
    if(u && p){
      document.getElementById('loginModal').style.display = 'none';
      document.getElementById('mainHeader').style.display = 'block';
      document.getElementById('mainNav').style.display = 'flex';
      carregarCategoria('filmes');
    } else {
      alert("Informe usuÃ¡rio e senha");
    }
  }

  async function carregarCategoria(cat){
    const resp = await fetch(listas[cat]);
    const text = await resp.text();
    const linhas = text.split("\n").map(l=>l.trim()).filter(Boolean);
    const canais = [];
    for(let i=0; i<linhas.length; i++){
      if(linhas[i].startsWith("#EXTINF")){
        const title = linhas[i].split(",")[1] || "Sem nome";
        const url = linhas[i+1];
        canais.push({ title, url });
      }
    }
    canaisByCat[cat] = canais;
    renderCanais(canais);
  }

  function renderCanais(canais){
    const cont = document.getElementById('canalContainer');
    cont.innerHTML = '';
    canais.forEach(ch => {
      const card = document.createElement('div');
      card.className="card";
      let player="";
      if(ch.url.includes("youtube.com")||ch.url.includes("youtu.be")){
        player = `<iframe src="${ch.url}" allowfullscreen></iframe>`;
      } else if(ch.url.endsWith(".mp4")){
        player = `<video controls src="${ch.url}"></video>`;
      } else {
        player = `<video controls autoplay src="${ch.url}" type="application/x-mpegURL"></video>`;
      }
      card.innerHTML = `<h3>${ch.title}</h3>${player}`;
      cont.appendChild(card);
    });
  }

  function switchCat(cat){
    document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
    document.querySelector('nav a[data-cat="'+cat+'"]').classList.add('active');
    if(!canaisByCat[cat] || canaisByCat[cat].length === 0){
      carregarCategoria(cat);
    } else {
      renderCanais(canaisByCat[cat]);
    }
  }
</script>

</body>
</html>,
